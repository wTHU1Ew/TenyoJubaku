# TenyoJubaku Configuration Template
# Copy this file to config.yaml and fill in your actual values
# NEVER commit config.yaml to version control!

# OKX API Configuration
okx:
  # API endpoint (production or demo)
  api_url: "https://www.okx.com"

  # Your OKX API credentials
  # Get these from: OKX Account > API Management
  # Required permissions: Read (trading permissions NOT required for monitoring)
  api_key: "your-api-key-here"
  api_secret: "your-api-secret-here"
  passphrase: "your-api-passphrase-here"

  # Request timeout in seconds
  timeout: 30

  # Maximum retry attempts for failed requests
  max_retries: 3

  # Enable debug mode to print all OKX API requests and responses to console
  # This is useful for troubleshooting API issues
  # WARNING: Sensitive data (API keys) are NOT masked in debug output
  debug_enable: false

# Monitoring Configuration
monitoring:
  # Monitoring interval in seconds (how often to fetch account data)
  interval: 60

  # Enable monitoring on startup
  enabled: true

# Database Configuration
database:
  # Path to SQLite database file
  path: "./data/tenyojubaku.db"

  # Enable Write-Ahead Logging (WAL) mode for better concurrency
  wal_mode: true

  # Connection pool settings
  max_open_conns: 1
  max_idle_conns: 1

# Logging Configuration
logging:
  # Log file path
  file_path: "./logs/app.log"

  # Log level: DEBUG, INFO, WARN, ERROR
  level: "INFO"

  # Maximum log file size in MB before rotation
  max_size: 100

  # Maximum number of days to retain old log files
  max_age: 30

  # Maximum number of old log files to keep
  max_backups: 10

  # Compress rotated log files
  compress: true

  # Log to console in addition to file
  console: true

# TPSL Management Configuration
tpsl:
  # Enable automatic TPSL management
  # When enabled, the system will automatically place stop-loss and take-profit orders
  # for positions that don't have adequate TPSL coverage
  enabled: true

  # TPSL check interval in seconds (how often to check positions and place orders)
  # Default: 300 seconds (5 minutes)
  # Lower values = faster response but more API calls
  # Higher values = slower response but fewer API calls
  check_interval: 300

  # Volatility percentage for stop-loss calculation (e.g., 0.01 = 1%)
  # This is the base risk percentage (NOT adjusted by leverage)
  # Formula: SL_distance = entry_price × volatility_pct
  # Example: For entry price $100, volatility 1%:
  #   - Long position: SL = $99 (1% below entry)
  #   - Short position: SL = $101 (1% above entry)
  # Default: 0.01 (1%)
  volatility_pct: 0.01

  # Profit-loss ratio for take-profit calculation (e.g., 5.0 = 5:1 ratio)
  # Formula: TP_distance = entry_price × volatility_pct × profit_loss_ratio
  # Example: For entry price $100, volatility 1%, ratio 5:1:
  #   - Long position: TP = $105 (5% above entry)
  #   - Short position: TP = $95 (5% below entry)
  # Default: 5.0 (5:1 ratio)
  #
  # Note: TP and SL are placed as TWO SEPARATE ORDERS to ensure both work correctly
  # (OKX API limitation: when both parameters sent together, only SL may execute)
  profit_loss_ratio: 5.0
